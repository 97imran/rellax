!function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof module&&module.exports?module.exports=t():e.Rellax=t()}(this,function(){var e=function(t,n){"use strict";var o=Object.create(e.prototype);if("undefined"==typeof window.orientation){var s=0,i=0,r=[],a=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||_this.scrollElement.onscroll;if(o.options={speed:-4},n&&Object.keys(n).forEach(function(e){o.options[e]=n[e]}),o.options.speed<-10?o.options.speed=-10:o.options.speed>10&&(o.options.speed=10),t||(t=".rellax"),document.getElementsByClassName(t.replace(".","")))o.elems=document.getElementsByClassName(t.replace(".",""));else{if(document.querySelector(t)===!1)throw new Error("The elements you're trying to select don't exist.");o.elems=querySelector(t)}var d=function(){i=window.innerHeight,c();for(var e=0;e<o.elems.length;e++){var t=l(o.elems[e]);r.push(t)}window.addEventListener("resize",function(){f()}),u(),f()},l=function(e){var t=0,n=t+e.getBoundingClientRect().top,s=e.clientHeight||e.offsetHeight||e.scrollHeight,r=(t-n+i)/(s+i),a=e.dataset.rellaxSpeed?e.dataset.rellaxSpeed:o.options.speed,d=m(r,a),l=e.style.cssText.slice(11);return{base:d,top:n,height:s,speed:a,style:l}},c=function(){var e=s;return s=void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop,e!=s},m=function(e,t){var n=t*(100*(1-e));return Math.round(n)},u=function(){c()&&f(),a(u)},f=function(){for(var e=0;e<o.elems.length;e++){var t=(s-r[e].top+i)/(r[e].height+i),n=m(t,r[e].speed)-r[e].base,a="translate3d(0,"+n+"px,0)"+r[e].style;o.elems[e].style.cssText="-webkit-transform:"+a+";-moz-transform:"+a+";transform:"+a+";"}};return d(),Object.freeze(),o}};return e});