(function(f,d){"function"===typeof define&&define.amd?define([],d):"object"===typeof module&&module.exports?module.exports=d():f.Rellax=d()})(this,function(){var f=function(d,l){var c=Object.create(f.prototype);if("undefined"===typeof window.orientation){var g=0,h=0,e=[],r=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(a){setTimeout(a,1E3/60)};c.options={speed:-2};l&&Object.keys(l).forEach(function(a){c.options[a]=
l[a]});-10>c.options.speed?c.options.speed=-10:10<c.options.speed&&(c.options.speed=10);d||(d=".rellax");if(document.getElementsByClassName(d.replace(".","")))c.elems=document.getElementsByClassName(d.replace(".",""));else if(!1!==document.querySelector(d))c.elems=querySelector(d);else throw Error("The elements you're trying to select don't exist.");var t=function(a){var b=0;a.getAttribute("data-rellax-percentage")&&(b=document.body.scrollTop);var d=b+a.getBoundingClientRect().top,e=a.clientHeight||
a.offsetHeight||a.scrollHeight,f=a.getAttribute("data-rellax-percentage")?a.getAttribute("data-rellax-percentage"):(b-d+h)/(e+h),b=a.getAttribute("data-rellax-percentage")?a.getAttribute("data-rellax-speed")?m(a.getAttribute("data-rellax-speed"),5):m(c.options.speed,5):a.getAttribute("data-rellax-speed")?m(a.getAttribute("data-rellax-speed"),10):c.options.speed,f=Math.round(100*b*(1-f));a=a.style.cssText;for(var g="",k=a.split(";").length-1;0<=k;k--)0<=a.split(";")[k].indexOf("transform")&&(g=a.split(";")[k].slice(11));
return{base:f,top:d,height:e,speed:b,style:a,styleTransform:g}},m=function(a,b){return a<-b?-b:a>b?b:a},p=function(){var a=g;g=void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop;return a!=g?!0:!1},q=function(){p()&&n();r(q)},n=function(){for(var a=0;a<c.elems.length;a++){var b=" translate3d(0,"+(Math.round(100*e[a].speed*(1-(g-e[a].top+h)/(e[a].height+h)))-e[a].base)+"px,0) "+e[a].styleTransform;c.elems[a].style.cssText=e[a].style+
"-webkit-transform:"+b+";-moz-transform:"+b+";transform:"+b+";"}};(function(){h=window.innerHeight;p();for(var a=0;a<c.elems.length;a++){var b=t(c.elems[a]);e.push(b)}window.addEventListener("resize",function(){n()});q();n()})();Object.freeze();return c}};return f});